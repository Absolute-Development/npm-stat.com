!function(t){function e(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return t[o].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){function o(t,e){for(var n=[],o=moment(t).set("hours",0).set("minutes",0);o.toDate()<=e;)n.push(o.toDate()),o=o.add(1,"days");return n}function a(t,e,n,o,a,r){var i=$.map(n,function(t,e){return{name:e,data:t,type:"spline"}});new Highcharts.Chart({chart:{renderTo:t,zoomType:"x"},colors:["#CC333F","#00A0B0","#73AC42","#EB6841","#542437"],title:{text:e,style:{color:"#000000"}},subtitle:{text:"undefined"==typeof document.ontouchstart?"Click and drag in the plot to zoom in":"Drag your finger over the plot to zoom in",style:{color:"#000000"}},exporting:{enableImages:!0},credits:{enabled:!1},xAxis:"datetime"==o?{type:o,maxZoom:12096e5,lineColor:"#000000",title:{text:a,style:{color:"#000000"}}}:{type:o,lineColor:"#000000",categories:r,labels:{rotation:-20},title:{text:a,style:{color:"#000000"}}},yAxis:{min:0,startOnTick:!1,showFirstLabel:!1,title:{text:"Downloads",style:{color:"#000000"}}},tooltip:{shared:!0},legend:{enabled:i.length>1},plotOptions:{spline:{marker:{radius:1.5},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},series:i})}function r(t){var e=0;return $.each(t,function(t,n){e+=n}),e}function i(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function l(t){var e={},n=t.downloads,o=null;if(n)for(var a=0;a<n.length;a++)o=n[a].day,e[o]=n[a].downloads;return e}function c(t,e){var n={};return $.each(t,function(t,o){for(var a=[],r=0;r<e.length;r++){var i=u(e[r]),l=moment(e[r]).utc().add(1,"day").set({hour:0,minute:0,second:0}).toDate().getTime();a.push([l,o[i]||0])}n[t]=a}),n}function u(t){return moment(t).format("YYYY-MM-DD")}function s(t){return moment(t).format("GGGG-[W]WW")}function p(t){return moment(t).format("MMM YYYY")}function d(t){return moment(t).format("YYYY")}function f(t,e,n,o){var a={},r=null,i={};$.each(t,function(t,o){for(var l=[],c=0,s=null,p=0;p<e.length;p++){var d=u(e[p]),f=n(e[p]);null!==i&&(i[f]=!0),f!==s&&null!==s&&(l.push({name:s,y:c}),c=0),c+=o[d]||0,s=f,p===e.length-1&&l.push({name:f,y:c})}null!==i&&(r=Object.keys(i)),i=null,a[t]=l});for(var l=0;l<r.length;l++)l%o!=0&&(r[l]=" ");return{data:a,xAxisLabels:r}}function m(t){for(var e=[],n=t.rows.length,o=0;o<n;o++)e.push(t.rows[o].key[1]);return e}function h(t){return $.ajax({url:t,dataType:"json"})}function g(t,e,n){return"/downloads/range/"+u(e)+":"+u(n)+"/"+encodeURIComponent(t)}function v(t){var e={};return $.each(t,function(t,n){$.each(n,function(t,n){"undefined"!=typeof e[t]?e[t]=e[t]+n:e[t]=n})}),{total:e}}function y(t,e,n){var r=o(e,n),i=c(t,r);a("days","Downloads per day",i,"datetime","Date");var l=f(t,r,s,4);a("weeks","Downloads per week",l.data,"categories","Week",l.xAxisLabels);var u=f(t,r,p,1);a("months","Downloads per month",u.data,"categories","Month",u.xAxisLabels);var m=f(t,r,d,1);a("years","Downloads per year",m.data,"categories","Year",m.xAxisLabels)}function w(t,e,n,o){var a=0,l=$('<table class="alternating"><tr><td>package</td><td>downloads</td></tr></table>'),c=$.map(t,function(t,e){var n=r(t);return o&&(a+=n),{packageName:e,downloads:n}}),s=c.sort(function(t,e){return e.downloads-t.downloads});$.each(s,function(t,e){l.append("<tr><td>"+e.packageName+"</td><td>"+i(e.downloads)+"</td></tr>")}),o&&l.append("<tr><td><strong>Î£</strong></td><td><strong>"+i(a)+"</strong></td></tr>"),$("#pkgs").after(l).after("<p>Total number of downloads between <em>"+u(e)+"</em> and <em>"+u(n)+"</em>:")}function b(t,e,n){var o=t.join(", ");if($("h2").append(" for package"+(t.length>1?"s":"")+" <em>"+o+"</em>"),Y.val("package"),$("#name").val(o),t.length>5)return void window.alert("You cannot compare more than 5 packages at once.");var a=$("#npm-stat");a.after('<p id="loading"><img src="loading.gif" /></p>'),1==t.length&&a.after('<p><a href="https://npmjs.org/package/'+t+'">View package on npm</a></p>');var r={},i=[];$.each(t,function(t,o){var a=g(o,e,n),l=h(a);r[o]=l,i.push(l)}),$.when.apply(this,i).then(function(){var o={};1==t.length?o[t[0]]=arguments[0]:$.each(arguments,function(e,n){o[t[e]]=n[0]});var a={};$.each(o,function(t,e){a[t]=l(e)}),$("#loading").remove(),w(a,e,n,!1),y(a,e,n)})}function k(t,e,n){$("h2").html("Downloads for author <em>"+t+"</em>"),Y.val("author"),$("#name").val(t),$("#npm-stat").after('<p id="loading"></p><p><a href="https://npmjs.org/~'+t+'">View author on npm</a></p>'),$("#loading").html('<img src="loading.gif" />'),x(t).then(function(t){var o=m(t),a={},r=[];$.each(o,function(t,o){var i=g(o,e,n),l=h(i);a[o]=l,r.push(l)}),$.when.apply(this,r).then(function(){var t={};1==o.length?t[o[0]]=arguments[0]:$.each(arguments,function(e,n){t[o[e]]=n[0]});var a={};$.each(t,function(t,e){a[t]=l(e)}),$("#loading").remove(),w(a,e,n,!0);var r=v(a);y(r,e,n)})})}function x(t){var e='/-/_view/browseAuthors?group_level=3&start_key=["'+t+'"]&end_key=["'+t+'",{}]';return h(e)}function j(t,e,n){var o;if(t[e])try{o=moment(t[e],"YYYY-MM-DD").utcOffset(-480).toDate()}catch(a){return alert('Invalid date format in URL parameter "'+e+'"')}else o=n?moment(n).subtract(1,"year").toDate():moment().utc().subtract(36,"hours").toDate();return $('input[name="'+e+'"]').val(u(o)),o}/*!
	 * (c) 2012-2016 Paul Vorbach.
	 *
	 * MIT License (https://vorba.ch/license/mit.html)
	 */
var D=n(3);n(4);var Y=$('<select id="nameType">\n    <option value="package" selected>Package</option>\n    <option value="author">Author</option>\n</select>');Y.change(function(){"package"==Y.val()?$("#name").attr("name","package").attr("placeholder","package name(s) (comma separated)"):"author"==Y.val()&&$("#name").attr("name","author").attr("placeholder","author name")}),$(function(){$("#nameType").replaceWith(Y),$("#from, #to").attr("title","If the date fields are omitted, you will see the data of the past year.");var t=D.decode(window.location.search?window.location.search.substring(1):""),e=t["package"],n=t.author;if(e||n){var o=j(t,"to"),a=j(t,"from",o);e?(e instanceof Array||(e=[e]),e=$.map(e,function(t){return t.trim()}),$("title").html("npm-stat: "+e.join(", ")),b(e,a,o)):n&&($("title").html("npm-stat: "+n),k(n,a,o))}}),window.submitForm=function(){var t={};if("package"==Y.val()){var e=$("input[name=package]").val().split(",");e.length>=1&&""!==e[0].trim()?t["package"]=$.map(e,function(t){return t.trim()}):t["package"]=["clone"]}else if("author"==Y.val()){var n=$("input[name=author]").val();t.author=n||"pvorb"}t.from=$("#from").val(),t.to=$("#to").val();for(var o in t)t[o]||delete t[o];return window.location="/charts.html?"+D.encode(t),!1}},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,o,a){e=e||"&",o=o||"=";var r={};if("string"!=typeof t||0===t.length)return r;var i=/\+/g;t=t.split(e);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var c=t.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var s,p,d,f,m=t[u].replace(i,"%20"),h=m.indexOf(o);h>=0?(s=m.substr(0,h),p=m.substr(h+1)):(s=m,p=""),d=decodeURIComponent(s),f=decodeURIComponent(p),n(r,d)?Array.isArray(r[d])?r[d].push(f):r[d]=[r[d],f]:r[d]=f}return r}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,o,a){return e=e||"&",o=o||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(a){var r=encodeURIComponent(n(a))+o;return Array.isArray(t[a])?t[a].map(function(t){return r+encodeURIComponent(n(t))}).join(e):r+encodeURIComponent(n(t[a]))}).join(e):a?encodeURIComponent(n(a))+o+encodeURIComponent(n(t)):""}},function(t,e,n){"use strict";e.decode=e.parse=n(1),e.encode=e.stringify=n(2)},function(t,e){Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=n.length;return function(a){if("object"!=typeof a&&("function"!=typeof a||null===a))throw new TypeError("Object.keys called on non-object");var r,i,l=[];for(r in a)t.call(a,r)&&l.push(r);if(e)for(i=0;i<o;i++)t.call(a,n[i])&&l.push(n[i]);return l}}())}]);
//# sourceMappingURL=charts.js.map